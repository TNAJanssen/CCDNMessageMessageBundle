{%- spaceless -%}
	{%- set sender = envelope.getMessage.getSentFromUser -%}
	{%- set recipient = envelope.getSentToUser -%}

	<table class="table table-striped table-hover message" id="{{- envelope.id -}}">
		<tbody>
			<tr>
				<td class="right" style="width: 80px;">
					<b>
						{{- 'item_message.sent.from' |trans({}, 'CCDNMessageMessageBundle') -}}
					</b>
				</td>
				<td class="left">
					{{- sender.username -}}
				</td>
			</tr>
			{%- if envelope.getMessage.getSentFromUser -%}
				{%- if envelope.getMessage.getSentFromUser.getId == app.user.id -%}
					<tr>
						<td class="right" style="width: 80px;">
							<b>
								{{- 'item_message.send.to' |trans({}, 'CCDNMessageMessageBundle') -}}
							</b>
						</td>
						<td class="left" colspan="3">
							{{- envelope.getMessage.getSendTo |title -}}
						</td>
					</tr>
				{%- endif -%}
			{%- else -%}
				<tr>
					<td class="right" style="width: 80px;">
						<b>
							{{- 'item_message.send.to' |trans({}, 'CCDNMessageMessageBundle') -}}
						</b>
					</td>
					<td class="left" colspan="3">
						{{- envelope.getMessage.getSendTo |title -}}
					</td>
				</tr>
			{%- endif -%}
			<tr>
				<td class="right" style="width: 80px;">
					<b>
						{{- 'item_message.subject' |trans({}, 'CCDNMessageMessageBundle') -}}
					</b>
				</td>
				<td class="left" colspan="3">
					{{- envelope.getMessage.getSubject -}}
				</td>
			</tr>
			<tr>
				<td class="right" style="width: 80px;">
					<b>
						{{- 'item_message.sent_datetime' |trans({}, 'CCDNMessageMessageBundle') -}}
					</b>
				</td>
				<td class="left">
					{{- envelope.getSentDate |date(ccdn_message_message.message.show.sent_datetime_format) -}}
				</td>
			</tr>
			<tr>
				<td class="left" colspan="4" style="overflow: hidden; padding: 25px;">
					<article>
						{{- envelope.getMessage.getBody -}}
						<br>
					</article>
				</td>
			</tr>
		</tbody>
	</table>
{%- endspaceless -%}
